　　　　　智能大数据平台建设内容
一、系统概述
　　本智能大数据平台以Kettle作为底层核心ETL执行引擎，深度融合元数据智能识别、AI增强与BI可视化三大核心能力，构建覆盖数据全生命周期的智能化管理与价值挖掘平台。系统通过元数据驱动实现Kettle ETL任务的自动化配置，借助AI技术完成加工规则智能推荐、数据质量智能治理等核心环节的升级，最终通过AI+BI一体化分析能力输出精准的业务决策依据，全面支撑企业从数据采集、加工处理到价值转化的全链路智能化运营，有效降低人工操作成本，提升数据价值挖掘效率。
二、核心功能介绍
（一）数据规划与元数据管理系统
　　核心功能涵盖元数据定义，元数据智能识别、元数据标签与版本管理以及数据标准智能落地。其中，元数据智能识别引擎可自动扫描业务数据库、日志文件、外部接口等多源数据，精准识别字段含义、数据类型及跨数据源关联关系，并生成可视化元数据图谱，为后续数据处理提供基础支撑；元数据标签与版本管理模块能基于数据属性智能标注分类标签，同时完整记录元数据变更历史，支持版本回溯与差异对比；数据标准智能落地模块则基于元数据分析结果生成统一的数据标准，包括字段格式规范、编码规则等。在与Kettle的联动方面，该系统会向Kettle同步完整的表结构和字段规则，为Kettle自动生成字段映射、清洗规则等配置提供核心依据；当Kettle完成ETL任务后，系统还会接收Kettle回传的加工后字段状态信息，自动更新元数据版本，确保元数据与实际数据的一致性。
（二）数据感知汇聚系统
　　主要实现多源数据智能采集与采集任务智能调度两大功能。多源数据智能采集模块支持对接各类业务系统、日志文件、外部开放接口等数据源，可灵活实现批量数据抽取与实时数据采集，适配结构化、半结构化等多种数据格式；采集任务智能调度模块则基于数据源增量变化情况和业务优先级，自动规划采集任务的执行时序与频率。与Kettle的联动逻辑为，Kettle通过“表输入”“JSON输入”等原生组件执行具体的数据采集操作，元数据系统会自动同步采集源的表结构至Kettle，确保采集字段的准确性；同时，Kettle服务会接收元数据系统发送的触发信号，根据智能调度规则自动启动或调整采集作业，实现采集任务的自动化运行。
（三）数据加工融合系统
　　作为数据中台的核心处理环节，该系统依托Kettle强大的ETL能力，结合AI技术实现全流程智能化加工。核心功能包括AI辅助清洗规则配置、字段转换智能映射、多源数据智能融合以及缺失值AI填充及非结构化文档智能识别加工（OCR识别）。
　　基于人工智能的非结构化文档识别加工处理功能，可精准处理PDF、Word、Excel、图片、扫描件等多种格式的非结构化文档，通过OCR识别、自然语言处理（NLP）等AI技术，自动提取文档中的关键信息，如合同中的甲方乙方信息、金额、有效期，发票中的开票日期、税额，报告中的核心指标数据等；同时，结合元数据智能识别技术，将提取的关键信息与标准数据元进行关联匹配，完成非结构化数据向结构化数据的转化，生成标准化数据字段。
　　AI辅助清洗规则配置模块可调用异常值识别、重复值检测等AI模型，智能分析数据质量问题并生成针对性清洗规则；字段转换智能映射模块基于元数据字典，通过AI自动匹配字段转换逻辑，如将编码型数据转换为中文释义；多源数据智能融合模块借助AI验证跨数据源关联键的一致性，智能生成多表连接规则；缺失值AI填充模块则调用机器学习预测模型，基于现有数据特征对缺失字段进行预测填充。在与Kettle的联动上，Kettle会根据AI推荐的清洗规则，自动调用“过滤行”“去除重复记录”等原生组件加载清洗条件，完成数据清洗；通过“值映射”组件加载AI生成的字段映射关系，实现字段格式与内容的自动化转换；借助“连接（Join）”组件，按照AI验证后的关联条件，完成多源数据的水平融合；同时，通过“计算器”组件嵌入AI填充结果，生成完整的目标字段，实现数据的补全与优化。
（四）数据分析挖掘系统（AI+BI）
　　聚焦数据价值挖掘，构建AI与BI双引擎分析体系，核心功能包括BI智能可视化分析、AI预测与分群分析以及智能预警推送。BI智能可视化分析模块支持自然语言查询交互，用户可通过输入“近7天用户点击Top5页面”等自然语言指令，自动生成对应的报表与可视化图表，同时提供拖拽式图表制作功能，满足不同业务人员的分析需求；AI预测与分群分析模块内置销量预测、客户分群、用户行为预测等多种机器学习模型，可深度挖掘数据背后的业务规律；智能预警推送模块则实时监控核心业务指标，当检测到数据出现异常波动，如“转化率骤降>20%”时，自动触发告警机制。与Kettle的联动方面，Kettle加工完成后的宽表数据会自动同步至BI工具的数据集，为BI可视化分析提供高质量的数据支撑；Kettle处理后的特征数据会作为AI模型的输入源，供模型训练与推理使用，同时AI模型的分析结果会回写至Kettle的输出表，丰富数据维度；此外，系统通过监控Kettle输出表中的核心指标数据，结合AI异常识别算法，实现预警信号的精准触发与推送。
（五）数据资产系统
　　核心功能包括资产智能编目与资产AI检索。资产智能编目模块可基于Kettle的加工结果，自动提取数据资产属性，生成标准化资产标签，并结合数据复用率、业务关联度等指标智能评估资产价值等级；资产AI检索模块支持自然语言检索，用户可通过输入“近30天活跃用户数据”等查询指令，快速定位目标数据资产。在与Kettle的联动上，Kettle完成ETL加工后的输出表会自动同步至数据资产系统，元数据引擎会基于同步的数据信息自动生成资产描述、来源链路等编目内容；同时，资产系统会建立与Kettle加工任务的关联关系，当用户通过AI检索定位资产后，可直接关联查看对应的Kettle加工任务信息，实现资产溯源与全链路追踪。支持做复查的查询导出给类需要的数据，同时提供数据服务功能，能方便定制数据标准接口服务，对调用的记录进行记录。
（六）数据安全管理系统
　　主要实现敏感数据AI识别与权限智能管控两大功能。敏感数据AI识别模块可基于元数据标签，自动识别手机号、身份证号、银行卡号等敏感字段，并触发对应的脱敏规则，如掩码处理、加密存储等；权限智能管控模块则根据用户角色、业务场景需求，动态分配数据访问权限，确保数据访问的合规性。与Kettle的联动逻辑为，Kettle会调用自身“脱敏”组件，加载AI识别出的敏感字段及对应的脱敏规则，在数据加工过程中完成敏感数据的自动化脱敏处理；同时，系统会限制Kettle任务输出数据的访问权限，仅授权角色可查看或使用加工后的敏感数据结果，通过Kettle与安全管理系统的协同，构建全流程数据安全防护体系。同时支持数据留痕，支持任何的修改都能追溯本源。
　　
（七）构建业务的应用支持平台
　　为解决企业内部多业务系统登录分散、权限不统一、通用能力重复建设、监管难度大等问题，提升员工办公效率、降低系统运维成本、强化数据安全与合规性，现需构建一套单点登录（SSO）与统一管理平台。平台需兼容主流认证框架，整合各业务系统的通用核心能力，对外提供标准化接口，同时通过统一门户（Portal）实现用户一站式办公、数据可视化与业务监管。
　　　7.1 统一身份认证与单点登录（SSO）模块
　　　多框架兼容支持，原生支持CAS、MaxKey、Smart-SSO等专业 SSO 框架的集成与对接。兼容 OAuth 2.0、OIDC、SAML 2.0 等主流开放认证协议，满足内外系统的认证需求。
1)统一登录入口：提供 PC 端、移动端的统一登录页面，支持账号密码、短信验证码、扫码登录、第三方授权（如企业微信、钉钉）等多种登录方式。
2)单点注销：支持用户在任意系统发起注销，同步清理所有已登录系统的会话，确保账号安全。
3)会话管理：平台统一管理用户会话，支持会话状态查询、强制下线、会话超时配置等功能。
　　　7.2 统一通用能力管理模块（核心整合内容）
　　平台整合以下通用模块，提供统一的管理后台与标准化接口，各业务系统通过接口调用，不再单独开发。
　　　7.2.1统一用户权限管理
　　用户管理：统一的用户信息库，支持用户新增、编辑、冻结、删除，同步各业务系统用户信息。
　　组织架构管理：支持部门、角色、岗位的层级化管理，与用户进行关联。
　　权限管理：基于 RBAC（角色基础访问控制）或 ABAC（属性基础访问控制）模型，实现功能权限、数据权限、菜单权限的统一配置。
　　权限同步：支持权限配置向各业务系统的自动同步与下发，提供权限变更的审计日志。
　　　7.2.2统一日志管理
　　日志采集：统一采集各业务系统的操作日志、系统日志、错误日志，支持日志的标准化格式转换。
　　日志存储与查询：提供高效的日志存储方案，支持按用户、系统、时间、操作类型等多维度的模糊查询与精准检索。
　　日志分析与告警：支持日志的统计分析，对异常操作、系统错误等情况提供实时告警（如邮件、短信、平台通知）。
　　日志归档与清理：支持日志的自动归档、定期清理，满足企业数据留存的合规要求。
　　　7.2.3统一用户行为管理
　　行为采集：采集用户在各业务系统的操作行为，如登录时间、登录 IP、访问的系统、执行的操作、停留时间等。
　　行为分析：对用户行为进行统计分析，生成用户行为画像，识别异常行为（如异地登录、高频操作、敏感操作）。
　　行为审计：提供用户行为的全链路审计轨迹，支持溯源查询，满足安全审计要求。
　　　7.2.4统一通知管理
　　通知渠道管理：支持短信、邮件、站内信、企业微信、钉钉等多种通知渠道的统一配置与管理。
　　通知模板管理：提供统一的通知模板设计功能，支持模板的新增、编辑、删除、启用 / 禁用。
　　通知发送与推送：支持手动触发与自动触发的通知发送，提供通知的批量发送功能，支持通知的状态查询（已发送、已读、未读、失败）。
　　通知记录管理：提供通知的发送记录查询，支持通知的重发、撤回（部分渠道）功能。
　　　7.2.5统一内容管理
　　内容模板管理：支持公告、新闻、帮助文档等通用内容的模板管理。
　　内容发布管理：提供统一的内容发布、审核、下线流程，支持内容的多终端适配。
　　内容检索与推送：支持内容的多维度检索，支持根据用户角色、组织架构等条件进行精准推送。
　　　7.2.6统一财务开票信息管理
　　开票信息管理：统一存储用户 / 企业的开票信息（如抬头、税号、地址、电话、开户行、账号），支持信息的新增、编辑、删除、默认设置。
　　开票信息校验：提供开票信息的合法性校验功能，确保信息符合税务要求。
　　权限控制：支持开票信息的查看、修改权限的精细控制，确保信息安全。
　　接口服务：提供开票信息的查询、获取接口，支持各业务系统在开票时直接调用。
　　　7.2.7 统一门户（Portal）模块
　　门户作为用户的一站式办公入口，需集成以下核心功能，支持 PC 端与移动端的自适应展示：
　　　个人工作台
　　代办事项汇总：汇总用户在各业务系统的代办事项，支持按系统、优先级、截止时间等维度排序，点击可直接跳转至对应的业务系统处理页面。
　　已办事项查询：提供用户已办事项的查询功能，支持查看处理记录与结果。
　　　消息通知中心
　　统一展示用户的所有通知（如系统通知、业务通知、待办提醒），支持通知的标记已读、批量已读、删除功能。
　　提供通知的分类筛选功能，支持未读通知的红点提醒。
　　　BI 分析可视化
　　集成 BI 分析功能，提供统一的数据可视化仪表盘。
　　支持自定义报表：用户可根据自己的权限，自定义查看相关的业务数据报表（如用户活跃度、系统访问量、业务办理量、财务开票统计等）。
　　支持多维度分析：提供钻取、切片、旋转等多维度的数据分析功能，支持数据的导出。
　　　个人中心
　　支持用户查看与修改个人信息、登录密码、头像等。
　　支持用户查看个人登录记录、行为记录、通知记录。
　　支持用户管理个人开票信息、常用系统快捷方式。
　　　7.3 标准化接口服务模块
　　　接口设计原则：遵循 RESTful 设计规范，提供标准化的 API 接口，支持 JSON 数据格式，提供完整的接口文档。
　　　接口安全：支持接口的身份认证（如 Token、API Key）、权限控制、签名验证、防重放攻击、数据加密传输等安全机制。
　　　接口分类
　　认证接口：提供登录、注销、会话查询、权限验证等接口。
　　通用能力接口：提供用户权限、日志、通知、内容、财务开票信息等通用模块的查询、新增、编辑、删除接口。
　　门户集成接口：提供代办事项、消息通知、BI 数据等门户功能的集成接口。
　　　接口管理：提供接口的统一管理后台，支持接口的注册、发布、下线、版本管理，提供接口的调用统计、监控、告警功能
　　
　　
（八）技术要求
技术框架
　　
　　
　　　技术支持服务设计
服务	技术选型建议	说明
短信服务	阿里云 SMS / 腾讯云 SMS SDK	封装为 SmsTemplate
工作流	Flowable / Activiti	审批流、流程自动化
数据字典	RuoYi 原生字典 + Redis 缓存	支持动态更新
邮件服务	Spring Mail + Thymeleaf 模板	支持 HTML 邮件
定时任务	Spring @Scheduled + Quartz	分布式场景建议用 XXL-JOB
日志服务	AOP + Logback + ELK	操作日志记录到 DB
通知服务	WebSocket + 消息队列（可选）	实时通知
文件服务	MinIO / 阿里云 OSS	统一接口 FileStorageService
Excel服务	EasyExcel	高性能导入导出
支付服务	微信支付 V3 + 支付宝 SDK	封装统一下单接口
系统监控	Spring Boot Actuator + Prometheus + Grafana	监控 JVM、接口性能
租户管理	RuoYi-Plus 多租户拦截器	tenant_id 自动注入
通用工具	Hutool + 自定义 Utils	避免重复造轮子
　　
　　　多租户实现策略
　　1. 数据隔离方式
　　•	共享数据库 + 共享表 + tenant_id 字段（推荐）
　　•	所有涉及企业数据的表都加 tenant_id 字段
　　•	使用 MyBatis Plus 拦截器自动注入 tenant_id 条件
　　2.多租户配置
　　•	启用 com.ruoyi.common.core.interceptor.TenantContextHolder
　　•	配置 ignoreTable：哪些表不走租户过滤（如字典表）
　　•	在登录时根据企业账号设置 TenantContext.setTenantId(...)
　　
　　版本要求
　　JDK17，VUE3+,  REDIS6+, MYSQL8+ Springboot3.5.0+