# DataOps 平台功能清单

> 文档版本：1.0.0
> 创建日期：2026-02-09
> 功能总数：321 个

本文档详细列出 ONE-DATA-STUDIO DataOps 平台的所有功能，覆盖数据接入、数据处理、数据治理、数据监控与运维、数据利用、平台支撑六大领域。

---

## 目录

- [一、数据接入](#一数据接入)
  - [1.1 数据源管理](#11-数据源管理)
  - [1.2 CDC 变更数据捕获](#12-cdc-变更数据捕获)
  - [1.3 文件上传](#13-文件上传)
- [二、数据处理](#二数据处理)
  - [2.1 ETL 批量处理](#21-etl-批量处理)
  - [2.2 实时计算 (Flink)](#22-实时计算-flink)
  - [2.3 Streaming IDE](#23-streaming-ide)
  - [2.4 离线处理](#24-离线处理)
  - [2.5 Kafka 流处理](#25-kafka-流处理)
- [三、数据治理](#三数据治理)
  - [3.1 元数据管理](#31-元数据管理)
  - [3.2 数据血缘](#32-数据血缘)
  - [3.3 数据质量管理](#33-数据质量管理)
  - [3.4 敏感数据管理](#34-敏感数据管理)
  - [3.5 数据标准管理](#35-数据标准管理)
  - [3.6 数据资产管理](#36-数据资产管理)
  - [3.7 特征存储](#37-特征存储)
  - [3.8 数据集管理](#38-数据集管理)
- [四、数据监控与运维](#四数据监控与运维)
  - [4.1 数据监控](#41-数据监控)
  - [4.2 告警管理](#42-告警管理)
  - [4.3 指标管理](#43-指标管理)
  - [4.4 安全审计](#44-安全审计)
- [五、数据利用](#五数据利用)
  - [5.1 BI 仪表板](#51-bi-仪表板)
  - [5.2 数据服务发布](#52-数据服务发布)
  - [5.3 Text-to-SQL](#53-text-to-sql)
  - [5.4 RAG 检索](#54-rag-检索)
- [六、平台支撑](#六平台支撑)
  - [6.1 审批工作流](#61-审批工作流)
  - [6.2 AI 增强功能](#62-ai-增强功能)
  - [6.3 认证与授权](#63-认证与授权)
  - [6.4 集成能力](#64-集成能力)
- [统计汇总](#统计汇总)

---

## 一、数据接入

### 1.1 数据源管理

**后端代码**: `services/data-api/models/datasource.py`
**前端代码**: `web/src/pages/data/datasources/DataSourcesPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| DS-001 | 数据源列表查询 | 分页查询数据源列表，支持类型/状态筛选 |
| DS-002 | 数据源创建 | 创建新数据源，支持多种数据库类型 |
| DS-003 | 数据源编辑 | 修改数据源配置信息 |
| DS-004 | 数据源删除 | 删除指定数据源 |
| DS-005 | 连接测试 | 测试数据源连接是否可用 |
| DS-006 | 状态管理 | 数据源状态切换（connected/disconnected/error）|
| DS-007 | 标签管理 | 为数据源添加/删除标签 |
| DS-008 | 元数据采集 | 自动采集数据源的表数量、版本等信息 |

**支持的数据源类型**:
- MySQL (端口 3306)
- PostgreSQL (端口 5432)
- Oracle (端口 1521)
- SQL Server (端口 1433)
- Hive (端口 10000)
- MongoDB (端口 27017)
- Redis (端口 6379)
- Elasticsearch (端口 9200)

---

### 1.2 CDC 变更数据捕获

**后端代码**: `services/data-api/routes/cdc.py`, `services/data-api/services/cdc_service.py`
**前端代码**: `web/src/pages/data/cdc/CDCManagementPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| CDC-001 | CDC 任务创建 | 创建 CDC 同步任务 |
| CDC-002 | CDC 任务列表 | 查看所有 CDC 任务列表 |
| CDC-003 | CDC 任务详情 | 获取 CDC 任务配置和运行指标 |
| CDC-004 | CDC 任务启动 | 启动 CDC 任务 |
| CDC-005 | CDC 任务停止 | 停止 CDC 任务 |
| CDC-006 | CDC 任务删除 | 删除 CDC 任务 |
| CDC-007 | 运行指标查询 | 获取 CDC 任务的实时运行指标 |
| CDC-008 | MySQL-MinIO 模板 | 预置的 MySQL 到 MinIO 同步模板 |
| CDC-009 | MySQL-ClickHouse 模板 | 预置的 MySQL 到 ClickHouse 同步模板 |

**支持的 CDC 源**: MySQL-CDC, PostgreSQL-CDC
**支持的目标**: ClickHouse, MinIO/S3, Kafka

---

### 1.3 文件上传

**后端代码**: `services/data-api/models/file_upload.py`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| FU-001 | 文件上传 | 上传数据文件到平台 |
| FU-002 | 文件解析 | 自动解析 CSV/Excel/JSON 文件结构 |
| FU-003 | 文件预览 | 预览上传文件的内容 |

---

## 二、数据处理

### 2.1 ETL 批量处理

**后端代码**: `services/data-api/models/etl.py`
**前端代码**: `web/src/pages/data/etl/ETLPage.tsx`, `web/src/pages/data/etl/KettlePage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| ETL-001 | ETL 任务创建 | 创建 ETL 同步任务 |
| ETL-002 | ETL 任务列表 | 分页查询 ETL 任务列表 |
| ETL-003 | ETL 任务编辑 | 修改 ETL 任务配置 |
| ETL-004 | ETL 任务删除 | 删除 ETL 任务 |
| ETL-005 | ETL 任务执行 | 手动触发 ETL 任务执行 |
| ETL-006 | ETL 任务调度 | 配置 cron/interval 定时调度 |
| ETL-007 | 执行日志查询 | 查看 ETL 任务执行历史日志 |
| ETL-008 | 源配置管理 | 配置 ETL 源端连接和查询 |
| ETL-009 | 目标配置管理 | 配置 ETL 目标端表和映射 |
| ETL-010 | 转换规则配置 | 配置字段转换规则 |
| ETL-011 | Kettle 引擎集成 | 支持 Kettle/PDI 作业执行 |
| ETL-012 | Hop 引擎集成 | 支持 Apache Hop Pipeline 执行 |
| ETL-013 | Spark 引擎集成 | 支持 Spark 作业执行 |
| ETL-014 | Flink 引擎集成 | 支持 Flink 作业执行 |
| ETL-015 | AI 字段映射 | AI 自动推荐字段映射关系 |
| ETL-016 | 执行统计 | 统计执行次数、成功率、处理行数 |

**任务类型**: batch(批量), incremental(增量), cdc(变更), full_sync(全量)
**执行引擎**: builtin, kettle, hop, spark, flink

---

### 2.2 实时计算 (Flink)

**后端代码**: `services/data-api/models/flink.py`
**前端代码**: `web/src/pages/data/streaming/StreamingPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| FLINK-001 | Flink 作业创建 | 创建 Flink 实时计算作业 |
| FLINK-002 | Flink 作业列表 | 查看所有 Flink 作业列表 |
| FLINK-003 | Flink 作业启动 | 启动 Flink 作业 |
| FLINK-004 | Flink 作业停止 | 停止 Flink 作业 |
| FLINK-005 | SQL 作业配置 | 配置 Flink SQL 作业 |
| FLINK-006 | JAR 作业配置 | 配置 JAR 包作业 |
| FLINK-007 | Python 作业配置 | 配置 Python 作业 |
| FLINK-008 | 资源配置 | 配置 TaskManager/JobManager 内存和 Slots |
| FLINK-009 | Checkpoint 配置 | 配置 Checkpoint 间隔和 Savepoint 路径 |
| FLINK-010 | 作业日志查看 | 查看 Flink 作业执行日志 |
| FLINK-011 | 运行指标监控 | 监控 records_in/out, bytes_in/out |
| FLINK-012 | SQL 查询保存 | 保存常用的 Flink SQL 查询 |

---

### 2.3 Streaming IDE

**前端代码**: `web/src/pages/data/streaming-ide/StreamingIDEPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| SIDE-001 | SQL 编辑器 | 在线编写 Flink SQL |
| SIDE-002 | 语法高亮 | SQL 语法高亮显示 |
| SIDE-003 | 自动补全 | SQL 关键字和表名自动补全 |
| SIDE-004 | SQL 执行 | 在线执行 SQL 查询 |
| SIDE-005 | 结果预览 | 预览 SQL 执行结果 |
| SIDE-006 | 查询历史 | 查看历史执行的 SQL |

---

### 2.4 离线处理

**后端代码**: `services/data-api/models/offline.py`
**前端代码**: `web/src/pages/data/offline/OfflinePage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| OFF-001 | 离线任务创建 | 创建离线计算任务 |
| OFF-002 | 离线任务列表 | 查看离线任务列表 |
| OFF-003 | 离线任务编辑 | 修改离线任务配置 |
| OFF-004 | 离线任务删除 | 删除离线任务 |
| OFF-005 | 离线任务执行 | 手动触发离线任务 |
| OFF-006 | Spark SQL 配置 | 配置 Spark SQL 作业 |
| OFF-007 | Hive SQL 配置 | 配置 Hive SQL 作业 |
| OFF-008 | Presto 配置 | 配置 Presto 作业 |
| OFF-009 | Python 脚本配置 | 配置 Python 脚本作业 |
| OFF-010 | 资源配置 | 配置 Executor 内存/核心/数量 |
| OFF-011 | 调度配置 | 配置 cron 定时调度 |
| OFF-012 | 依赖配置 | 配置任务依赖关系 |
| OFF-013 | 输出配置 | 配置输出表/路径/格式 |
| OFF-014 | 执行日志查看 | 查看离线任务执行日志 |

---

### 2.5 Kafka 流处理

**后端代码**: `services/data-api/services/kafka_stream_service.py`
**前端代码**: `web/src/pages/data/streaming/KafkaStreamingPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| KFK-001 | Kafka 消费配置 | 配置 Kafka 消费者 |
| KFK-002 | Kafka 生产配置 | 配置 Kafka 生产者 |
| KFK-003 | Topic 管理 | 管理 Kafka Topic |
| KFK-004 | 消息预览 | 预览 Topic 中的消息 |

---

## 三、数据治理

### 3.1 元数据管理

**后端代码**: `services/data-api/models/metadata.py`, `services/data-api/models/metadata_version.py`
**前端代码**: `web/src/pages/metadata/MetadataPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| META-001 | 数据库浏览 | 树形浏览数据库列表 |
| META-002 | 表浏览 | 浏览数据库中的表列表 |
| META-003 | 字段浏览 | 查看表的字段定义 |
| META-004 | 表描述编辑 | 编辑表的业务描述 |
| META-005 | 字段描述编辑 | 编辑字段的业务描述 |
| META-006 | AI 智能标注 | AI 自动生成字段描述 |
| META-007 | 语义标签管理 | 为字段添加语义标签 |
| META-008 | 敏感级别标注 | 标注字段敏感级别（public/internal/confidential/restricted）|
| META-009 | 敏感类型标注 | 标注敏感类型（pii/financial/health/credential）|
| META-010 | 元数据搜索 | 关键词搜索表和字段 |
| META-011 | 元数据同步 | 从数据源同步元数据 |
| META-012 | 元数据版本管理 | 记录元数据变更历史 |
| META-013 | 版本对比 | 对比不同版本的元数据差异 |
| META-014 | 版本回滚 | 回滚到历史版本 |
| META-015 | 元数据图谱 | 可视化元数据关系图 |

---

### 3.2 数据血缘

**后端代码**: `services/data-api/models/lineage.py`, `services/data-api/models/lineage_event.py`
**前端代码**: `web/src/pages/data/lineage/LineagePage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| LIN-001 | 血缘节点管理 | 创建/编辑/删除血缘节点 |
| LIN-002 | 血缘边管理 | 创建/编辑/删除血缘关系边 |
| LIN-003 | 血缘图可视化 | 可视化展示血缘关系图 |
| LIN-004 | 上游追溯 | 追溯数据的上游来源 |
| LIN-005 | 下游影响分析 | 分析数据变更的下游影响 |
| LIN-006 | 血缘快照 | 保存特定时间点的血缘图快照 |
| LIN-007 | 血缘自动采集 | 从 ETL 任务自动采集血缘 |
| LIN-008 | OpenLineage 集成 | 支持 OpenLineage 事件接入 |
| LIN-009 | 列级血缘 | 支持字段级别的血缘追踪 |
| LIN-010 | 转换逻辑记录 | 记录数据转换的 SQL/逻辑 |

---

### 3.3 数据质量管理

**后端代码**: `services/data-api/models/quality.py`
**前端代码**: `web/src/pages/data/quality/QualityPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| QUA-001 | 质量规则创建 | 创建数据质量检查规则 |
| QUA-002 | 质量规则列表 | 查看所有质量规则 |
| QUA-003 | 质量规则编辑 | 修改质量规则配置 |
| QUA-004 | 质量规则删除 | 删除质量规则 |
| QUA-005 | 完整性规则 | 检查数据完整性（非空、不重复）|
| QUA-006 | 唯一性规则 | 检查数据唯一性 |
| QUA-007 | 有效性规则 | 检查数据有效性（格式、范围）|
| QUA-008 | 准确性规则 | 检查数据准确性 |
| QUA-009 | 一致性规则 | 检查跨表数据一致性 |
| QUA-010 | 时效性规则 | 检查数据时效性 |
| QUA-011 | 质量任务创建 | 创建质量检查任务 |
| QUA-012 | 质量任务调度 | 配置质量任务定时调度 |
| QUA-013 | 质量任务执行 | 手动触发质量检查 |
| QUA-014 | 质量报告生成 | 生成质量检查报告 |
| QUA-015 | 质量报告查看 | 查看历史质量报告 |
| QUA-016 | 质量告警管理 | 管理质量告警（确认/解决）|
| QUA-017 | 质量评分 | 计算整体质量评分 |
| QUA-018 | AI 清洗规则建议 | AI 推荐数据清洗规则 |
| QUA-019 | Great Expectations 集成 | 集成 Great Expectations 引擎 |

---

### 3.4 敏感数据管理

**后端代码**: `services/data-api/models/sensitivity.py`, `services/data-api/models/security_audit.py`
**前端代码**: `web/src/pages/data/metadata/AISensitivityScanPanel.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| SEN-001 | 敏感扫描任务创建 | 创建敏感数据扫描任务 |
| SEN-002 | 敏感扫描任务执行 | 执行敏感数据扫描 |
| SEN-003 | 扫描进度查看 | 查看扫描任务进度 |
| SEN-004 | 扫描结果查看 | 查看敏感数据识别结果 |
| SEN-005 | 结果人工校验 | 人工确认/修正扫描结果 |
| SEN-006 | 全量扫描模式 | 全量扫描所有字段 |
| SEN-007 | 增量扫描模式 | 仅扫描新增字段 |
| SEN-008 | 采样扫描模式 | 按采样率扫描字段 |
| SEN-009 | 敏感模式库管理 | 管理敏感数据识别模式（正则/关键词）|
| SEN-010 | 系统预置模式 | 内置 PII/财务/健康/凭证等模式 |
| SEN-011 | 自定义模式 | 用户自定义敏感模式 |
| SEN-012 | 脱敏规则管理 | 管理数据脱敏规则 |
| SEN-013 | 部分脱敏 | 部分字符脱敏（如手机号中间四位）|
| SEN-014 | 完全脱敏 | 完全替换为占位符 |
| SEN-015 | 哈希脱敏 | 使用哈希值替换 |
| SEN-016 | 加密脱敏 | 使用加密算法脱敏 |
| SEN-017 | 安全审计日志 | 记录所有敏感数据操作 |

**敏感类型**: pii(个人信息), financial(财务), health(健康), credential(凭证)
**敏感子类型**: phone, email, id_card, bank_card, address, name 等

---

### 3.5 数据标准管理

**后端代码**: `services/data-api/models/standards.py`
**前端代码**: `web/src/pages/data/standards/StandardsPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| STD-001 | 数据标准创建 | 创建数据标准定义 |
| STD-002 | 数据标准列表 | 查看所有数据标准 |
| STD-003 | 数据标准编辑 | 修改数据标准 |
| STD-004 | 数据标准删除 | 删除数据标准 |
| STD-005 | 命名规范标准 | 定义字段命名规范 |
| STD-006 | 格式规范标准 | 定义数据格式规范 |
| STD-007 | 范围规范标准 | 定义数据取值范围 |
| STD-008 | 枚举规范标准 | 定义枚举值列表 |
| STD-009 | 引用规范标准 | 定义参照数据标准 |
| STD-010 | 标准验证执行 | 执行数据标准验证 |
| STD-011 | 验证结果查看 | 查看标准验证结果 |
| STD-012 | 违规统计 | 统计标准违规次数 |

---

### 3.6 数据资产管理

**后端代码**: `services/data-api/models/assets.py`, `services/data-api/models/asset_value_metrics.py`
**前端代码**: `web/src/pages/data/assets/AssetsPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| AST-001 | 资产目录浏览 | 浏览数据资产目录 |
| AST-002 | 资产搜索 | 搜索数据资产 |
| AST-003 | 资产详情查看 | 查看资产详细信息 |
| AST-004 | 资产分类管理 | 管理资产分类层级 |
| AST-005 | 资产标签管理 | 为资产添加标签 |
| AST-006 | 资产收藏 | 收藏常用资产 |
| AST-007 | 资产申请 | 申请资产访问权限 |
| AST-008 | 资产等级管理 | 设置资产数据等级（public/internal/confidential/restricted）|
| AST-009 | 资产所有者管理 | 管理资产负责人 |
| AST-010 | 资产使用统计 | 统计资产访问次数/用户数 |
| AST-011 | 资产价值评估 | 计算资产综合价值评分 |
| AST-012 | 使用频率评估 | 评估资产使用频率 |
| AST-013 | 业务重要度评估 | 评估资产业务重要度 |
| AST-014 | 质量评分 | 计算资产数据质量评分 |
| AST-015 | 治理成熟度评估 | 评估资产治理成熟度 |
| AST-016 | 价值历史趋势 | 查看资产价值变化趋势 |
| AST-017 | AI 资产搜索 | AI 语义搜索数据资产 |
| AST-018 | 资产自动编目 | 自动发现和编目新资产 |

---

### 3.7 特征存储

**后端代码**: `services/data-api/models/feature.py`
**前端代码**: `web/src/pages/data/features/FeaturesPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| FEA-001 | 特征组创建 | 创建特征组 |
| FEA-002 | 特征组列表 | 查看特征组列表 |
| FEA-003 | 特征组编辑 | 修改特征组配置 |
| FEA-004 | 特征组删除 | 删除特征组 |
| FEA-005 | 特征创建 | 在特征组中创建特征 |
| FEA-006 | 特征编辑 | 修改特征定义 |
| FEA-007 | 特征删除 | 删除特征 |
| FEA-008 | 实体配置 | 配置特征的实体信息（user/product/order）|
| FEA-009 | 批量特征配置 | 配置批量计算的特征 |
| FEA-010 | 流式特征配置 | 配置实时计算的特征 |
| FEA-011 | 派生特征定义 | 定义基于其他特征的派生特征 |
| FEA-012 | 聚合特征定义 | 定义聚合特征（sum/avg/count/max/min）|
| FEA-013 | 在线存储配置 | 配置在线特征存储 |
| FEA-014 | 离线存储配置 | 配置离线特征存储 |
| FEA-015 | 特征统计查看 | 查看特征统计信息（min/max/mean/std）|
| FEA-016 | TTL 配置 | 配置特征数据过期时间 |

---

### 3.8 数据集管理

**后端代码**: `services/data-api/models/dataset.py`
**前端代码**: `web/src/pages/datasets/DatasetsPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| DST-001 | 数据集创建 | 创建数据集 |
| DST-002 | 数据集列表 | 查看数据集列表 |
| DST-003 | 数据集详情 | 查看数据集详情 |
| DST-004 | 数据集版本管理 | 管理数据集版本 |
| DST-005 | 数据集字段定义 | 定义数据集字段 |

---

## 四、数据监控与运维

### 4.1 数据监控

**后端代码**: `services/data-api/models/data_monitoring.py`
**前端代码**: `web/src/pages/data/monitoring/MonitoringPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| MON-001 | 监控规则创建 | 创建数据监控规则 |
| MON-002 | 监控规则列表 | 查看监控规则列表 |
| MON-003 | 监控规则编辑 | 修改监控规则 |
| MON-004 | 监控规则删除 | 删除监控规则 |
| MON-005 | 数据新鲜度监控 | 监控数据更新时效 |
| MON-006 | 数据量监控 | 监控数据量变化 |
| MON-007 | 数据质量监控 | 监控数据质量指标 |
| MON-008 | Schema 变更监控 | 监控表结构变更 |
| MON-009 | 阈值告警 | 基于阈值触发告警 |
| MON-010 | 变化率告警 | 基于变化率触发告警 |
| MON-011 | 异常检测告警 | AI 异常检测告警 |
| MON-012 | 监控仪表板 | 监控指标可视化仪表板 |

---

### 4.2 告警管理

**后端代码**: `services/data-api/models/data_monitoring.py`
**前端代码**: `web/src/pages/data/monitoring/AlertsPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| ALT-001 | 告警列表查看 | 查看所有告警列表 |
| ALT-002 | 告警详情查看 | 查看告警详细信息 |
| ALT-003 | 告警确认 | 确认告警（acknowledged）|
| ALT-004 | 告警解决 | 标记告警已解决 |
| ALT-005 | 告警升级 | 升级告警级别 |
| ALT-006 | 告警历史查看 | 查看告警状态变更历史 |
| ALT-007 | 邮件通知 | 通过邮件发送告警 |
| ALT-008 | 钉钉通知 | 通过钉钉发送告警 |
| ALT-009 | 企业微信通知 | 通过企业微信发送告警 |
| ALT-010 | 冷却期配置 | 配置告警冷却期避免重复告警 |
| ALT-011 | 智能告警推送 | AI 分析告警并智能推送 |

---

### 4.3 指标管理

**后端代码**: `services/data-api/models/metrics.py`
**前端代码**: `web/src/pages/data/metrics/MetricsPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| MTR-001 | 指标定义创建 | 创建业务指标定义 |
| MTR-002 | 指标定义列表 | 查看指标定义列表 |
| MTR-003 | 指标定义编辑 | 修改指标定义 |
| MTR-004 | 指标定义删除 | 删除指标定义 |
| MTR-005 | 指标分类管理 | 管理指标分类层级 |
| MTR-006 | 计数指标定义 | 定义 COUNT 类型指标 |
| MTR-007 | 求和指标定义 | 定义 SUM 类型指标 |
| MTR-008 | 平均指标定义 | 定义 AVG 类型指标 |
| MTR-009 | 比率指标定义 | 定义 RATIO 类型指标 |
| MTR-010 | 自定义 SQL 指标 | 使用 SQL 定义复杂指标 |
| MTR-011 | 指标计算调度 | 配置指标计算调度 |
| MTR-012 | 指标数据查看 | 查看指标历史数据 |
| MTR-013 | 指标趋势图 | 查看指标趋势变化图 |
| MTR-014 | 同环比分析 | 指标同比/环比分析 |
| MTR-015 | 指标告警配置 | 配置指标告警阈值 |
| MTR-016 | 指标认证 | 标记认证的官方指标 |

---

### 4.4 安全审计

**后端代码**: `services/data-api/models/security_audit.py`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| AUD-001 | 审计日志查询 | 查询安全审计日志 |
| AUD-002 | 扫描操作审计 | 记录敏感扫描操作 |
| AUD-003 | 脱敏操作审计 | 记录数据脱敏操作 |
| AUD-004 | 加密操作审计 | 记录数据加密操作 |
| AUD-005 | 校验操作审计 | 记录数据校验操作 |
| AUD-006 | 操作人记录 | 记录操作人信息 |
| AUD-007 | IP 记录 | 记录操作来源 IP |
| AUD-008 | 影响范围记录 | 记录操作影响的行数/列数 |

---

## 五、数据利用

### 5.1 BI 仪表板

**后端代码**: `services/data-api/models/bi.py`
**前端代码**: `web/src/pages/data/bi/BIPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| BI-001 | 仪表板创建 | 创建 BI 仪表板 |
| BI-002 | 仪表板列表 | 查看仪表板列表 |
| BI-003 | 仪表板编辑 | 修改仪表板配置 |
| BI-004 | 仪表板删除 | 删除仪表板 |
| BI-005 | 图表创建 | 在仪表板中创建图表 |
| BI-006 | 图表编辑 | 修改图表配置 |
| BI-007 | 图表删除 | 删除图表 |
| BI-008 | 折线图 | 创建折线图 |
| BI-009 | 柱状图 | 创建柱状图 |
| BI-010 | 饼图 | 创建饼图 |
| BI-011 | 表格图 | 创建数据表格 |
| BI-012 | 面积图 | 创建面积图 |
| BI-013 | 散点图 | 创建散点图 |
| BI-014 | 布局配置 | 配置仪表板图表布局 |
| BI-015 | 全局筛选器 | 配置仪表板全局筛选器 |
| BI-016 | 自动刷新 | 配置仪表板自动刷新 |
| BI-017 | 仪表板分享 | 生成分享链接 |
| BI-018 | 仪表板收藏 | 收藏常用仪表板 |
| BI-019 | 图表缓存 | 配置图表数据缓存 |
| BI-020 | Superset 集成 | 集成 Apache Superset |
| BI-021 | AI 图表推荐 | AI 推荐合适的图表类型 |

---

### 5.2 数据服务发布

**后端代码**: `services/data-api/models/data_service.py`
**前端代码**: `web/src/pages/data/services/ServicesPage.tsx`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| SVC-001 | 数据服务创建 | 创建数据服务 API |
| SVC-002 | 数据服务列表 | 查看数据服务列表 |
| SVC-003 | 数据服务编辑 | 修改数据服务配置 |
| SVC-004 | 数据服务删除 | 删除数据服务 |
| SVC-005 | 服务启动 | 启动数据服务 |
| SVC-006 | 服务停止 | 停止数据服务 |
| SVC-007 | REST API 服务 | 创建 REST API 服务 |
| SVC-008 | WebSocket 服务 | 创建 WebSocket 服务 |
| SVC-009 | 文件下载服务 | 创建文件下载服务 |
| SVC-010 | SQL 数据源配置 | 配置 SQL 查询作为数据源 |
| SVC-011 | 请求参数配置 | 配置 API 请求参数 |
| SVC-012 | 响应格式配置 | 配置响应格式（JSON/XML/CSV）|
| SVC-013 | 无认证 | 配置无认证访问 |
| SVC-014 | API Key 认证 | 配置 API Key 认证 |
| SVC-015 | OAuth 认证 | 配置 OAuth 认证 |
| SVC-016 | JWT 认证 | 配置 JWT 认证 |
| SVC-017 | 限流配置 | 配置每分钟/每天请求限制 |
| SVC-018 | 缓存配置 | 配置响应数据缓存 |
| SVC-019 | 调用统计 | 统计服务调用次数/成功率 |
| SVC-020 | 调用日志查看 | 查看服务调用日志 |
| SVC-021 | 响应时间监控 | 监控平均响应时间 |
| SVC-022 | 版本管理 | 管理服务版本 |

---

### 5.3 Text-to-SQL

**后端代码**: `services/data-api/src/sql_executor.py`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| T2S-001 | 自然语言查询 | 用自然语言描述查询需求 |
| T2S-002 | SQL 生成 | AI 根据自然语言生成 SQL |
| T2S-003 | 元数据注入 | 自动注入表结构到 Prompt |
| T2S-004 | SQL 执行 | 执行生成的 SQL |
| T2S-005 | 结果展示 | 展示查询结果 |
| T2S-006 | 自然语言解释 | AI 用自然语言解释结果 |

---

### 5.4 RAG 检索

**后端代码**: `services/data-api/src/semantic_search.py`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| RAG-001 | 向量检索 | 基于向量的语义检索 |
| RAG-002 | 文档切片 | 文档自动切片 |
| RAG-003 | Embedding 生成 | 生成文档 Embedding |
| RAG-004 | 相似度搜索 | 搜索相似文档片段 |
| RAG-005 | 结果排序 | 按相关度排序结果 |
| RAG-006 | RAG 回答生成 | 基于检索结果生成回答 |

---

## 六、平台支撑

### 6.1 审批工作流

**后端代码**: `services/data-api/models/approval.py`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| APR-001 | 审批模板创建 | 创建审批流程模板 |
| APR-002 | 审批模板列表 | 查看审批模板列表 |
| APR-003 | 审批模板编辑 | 修改审批模板 |
| APR-004 | 多级审批节点 | 配置多级审批节点 |
| APR-005 | 角色审批人 | 按角色指定审批人 |
| APR-006 | 审批工单提交 | 提交审批工单 |
| APR-007 | 审批工单列表 | 查看审批工单列表 |
| APR-008 | 审批工单详情 | 查看工单详情 |
| APR-009 | 工单审批通过 | 审批通过工单 |
| APR-010 | 工单审批驳回 | 驳回工单 |
| APR-011 | 工单撤回 | 撤回已提交的工单 |
| APR-012 | 审批委派 | 将审批委派给他人 |
| APR-013 | 审批记录查看 | 查看审批历史记录 |
| APR-014 | 自动过期 | 工单超时自动处理 |
| APR-015 | 通知配置 | 配置审批通知 |

**支持的业务类型**: data_access(数据访问), data_masking(数据脱敏), etl_publish(ETL发布), asset_change(资产变更), security_exception(安全例外)

---

### 6.2 AI 增强功能

**后端代码**: `services/data-api/services/ai_*.py`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| AI-001 | AI 字段标注 | AI 自动生成字段描述 |
| AI-002 | AI 字段映射 | AI 智能推荐字段映射 |
| AI-003 | AI 清洗规则建议 | AI 推荐数据清洗规则 |
| AI-004 | AI 资产搜索 | AI 语义搜索资产 |
| AI-005 | AI 图表推荐 | AI 推荐图表类型 |
| AI-006 | AI 异常预测 | AI 预测数据异常 |
| AI-007 | AI 调度优化 | AI 优化任务调度 |
| AI-008 | AI 敏感识别 | AI 识别敏感数据 |
| AI-009 | AI 数据填充建议 | AI 推荐数据填充策略 |

---

### 6.3 认证与授权

**后端代码**: `services/data-api/models/oauth2_client.py`, `services/data-api/services/unified_auth_service.py`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| AUTH-001 | OAuth2 客户端管理 | 管理 OAuth2 客户端 |
| AUTH-002 | API Key 管理 | 管理 API Key |
| AUTH-003 | Token 管理 | Token 签发和吊销 |
| AUTH-004 | SSO 集成 | 单点登录集成 |
| AUTH-005 | 认证审计 | 认证操作审计日志 |

---

### 6.4 集成能力

**后端代码**: `services/data-api/integrations/`

| 功能编号 | 功能名称 | 功能描述 |
|---------|---------|---------|
| INT-001 | OpenMetadata 集成 | 集成 OpenMetadata 元数据管理 |
| INT-002 | Great Expectations 集成 | 集成 GE 数据质量引擎 |
| INT-003 | Kettle 集成 | 集成 Kettle ETL 引擎 |
| INT-004 | Hop 集成 | 集成 Apache Hop |
| INT-005 | SeaTunnel 集成 | 集成 SeaTunnel CDC |
| INT-006 | ShardingSphere 集成 | 集成 ShardingSphere 分库分表 |

---

## 统计汇总

| 功能模块 | 功能数量 |
|---------|---------|
| 数据源管理 | 8 |
| CDC 变更数据捕获 | 9 |
| 文件上传 | 3 |
| ETL 批量处理 | 16 |
| 实时计算 (Flink) | 12 |
| Streaming IDE | 6 |
| 离线处理 | 14 |
| Kafka 流处理 | 4 |
| 元数据管理 | 15 |
| 数据血缘 | 10 |
| 数据质量管理 | 19 |
| 敏感数据管理 | 17 |
| 数据标准管理 | 12 |
| 数据资产管理 | 18 |
| 特征存储 | 16 |
| 数据集管理 | 5 |
| 数据监控 | 12 |
| 告警管理 | 11 |
| 指标管理 | 16 |
| 安全审计 | 8 |
| BI 仪表板 | 21 |
| 数据服务发布 | 22 |
| Text-to-SQL | 6 |
| RAG 检索 | 6 |
| 审批工作流 | 15 |
| AI 增强功能 | 9 |
| 认证与授权 | 5 |
| 集成能力 | 6 |
| **总计** | **321** |

---

## 附录

### 功能分布图

```
┌─────────────────────────────────────────────────────────────────┐
│                    DataOps 平台功能分布                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  数据接入 (20)        数据处理 (52)        数据治理 (112)        │
│  ┌─────────┐         ┌─────────┐         ┌─────────┐           │
│  │ DS: 8   │         │ ETL: 16 │         │META: 15 │           │
│  │ CDC: 9  │         │FLINK:12 │         │ LIN: 10 │           │
│  │ FU: 3   │         │SIDE: 6  │         │ QUA: 19 │           │
│  └─────────┘         │ OFF: 14 │         │ SEN: 17 │           │
│                      │ KFK: 4  │         │ STD: 12 │           │
│                      └─────────┘         │ AST: 18 │           │
│                                          │ FEA: 16 │           │
│                                          │ DST: 5  │           │
│                                          └─────────┘           │
│                                                                 │
│  监控运维 (47)        数据利用 (55)        平台支撑 (35)         │
│  ┌─────────┐         ┌─────────┐         ┌─────────┐           │
│  │ MON: 12 │         │ BI: 21  │         │ APR: 15 │           │
│  │ ALT: 11 │         │ SVC: 22 │         │ AI: 9   │           │
│  │ MTR: 16 │         │ T2S: 6  │         │AUTH: 5  │           │
│  │ AUD: 8  │         │ RAG: 6  │         │ INT: 6  │           │
│  └─────────┘         └─────────┘         └─────────┘           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 版本历史

| 版本 | 日期 | 变更说明 |
|------|------|---------|
| 1.0.0 | 2026-02-09 | 初始版本，梳理 321 个功能点 |
