# ONE-DATA-STUDIO Kubernetes Secrets Template
# ============================================
# IMPORTANT: This is a TEMPLATE file. Do NOT commit actual secrets to version control.
#
# Instructions:
#   1. Copy this file: cp secrets.yaml.template secrets.yaml
#   2. Replace all placeholder values with actual secrets
#   3. Apply: kubectl apply -f secrets.yaml -n one-data-studio
#   4. Delete secrets.yaml after applying (DO NOT commit)
#
# For production, use one of these approaches:
#   - HashiCorp Vault: https://www.vaultproject.io/
#   - External Secrets Operator: https://external-secrets.io/
#   - Sealed Secrets: https://sealed-secrets.netlify.app/
#   - AWS Secrets Manager / GCP Secret Manager / Azure Key Vault
#
# Generate secure secrets:
#   JWT_SECRET_KEY: openssl rand -base64 32
#   MYSQL_PASSWORD: openssl rand -base64 24
#   REDIS_PASSWORD: openssl rand -base64 24
#   MINIO_ACCESS_KEY: openssl rand -hex 16
#   MINIO_SECRET_KEY: openssl rand -base64 32
# ============================================

---
# Core application secrets
apiVersion: v1
kind: Secret
metadata:
  name: one-data-secrets
  namespace: one-data-studio
  labels:
    app.kubernetes.io/name: one-data-studio
    app.kubernetes.io/component: secrets
type: Opaque
stringData:
  # JWT Authentication
  # REQUIRED: Generate with: openssl rand -base64 32
  JWT_SECRET_KEY: "<REPLACE_WITH_SECURE_JWT_SECRET>"

  # MySQL Database
  # REQUIRED: Use a strong password
  MYSQL_USER: "one_data"
  MYSQL_PASSWORD: "<REPLACE_WITH_SECURE_MYSQL_PASSWORD>"
  MYSQL_DATABASE: "one_data_studio"

  # Redis Cache
  # REQUIRED: Use a strong password
  REDIS_PASSWORD: "<REPLACE_WITH_SECURE_REDIS_PASSWORD>"

  # MinIO Object Storage
  # REQUIRED: Generate access key: openssl rand -hex 16
  # REQUIRED: Generate secret key: openssl rand -base64 32
  MINIO_ACCESS_KEY: "<REPLACE_WITH_MINIO_ACCESS_KEY>"
  MINIO_SECRET_KEY: "<REPLACE_WITH_MINIO_SECRET_KEY>"

---
# Keycloak Authentication Secrets (if using Keycloak)
apiVersion: v1
kind: Secret
metadata:
  name: keycloak-secrets
  namespace: one-data-studio
  labels:
    app.kubernetes.io/name: one-data-studio
    app.kubernetes.io/component: keycloak
type: Opaque
stringData:
  # Keycloak Admin Credentials
  KEYCLOAK_ADMIN: "admin"
  KEYCLOAK_ADMIN_PASSWORD: "<REPLACE_WITH_KEYCLOAK_ADMIN_PASSWORD>"

  # Keycloak Client Secret (for backend services)
  KEYCLOAK_CLIENT_SECRET: "<REPLACE_WITH_KEYCLOAK_CLIENT_SECRET>"

---
# Monitoring Secrets (Grafana)
apiVersion: v1
kind: Secret
metadata:
  name: monitoring-secrets
  namespace: one-data-studio
  labels:
    app.kubernetes.io/name: one-data-studio
    app.kubernetes.io/component: monitoring
type: Opaque
stringData:
  # Grafana Admin Password
  # REQUIRED: Use a strong password
  GRAFANA_ADMIN_PASSWORD: "<REPLACE_WITH_GRAFANA_ADMIN_PASSWORD>"

---
# External API Keys (Optional)
apiVersion: v1
kind: Secret
metadata:
  name: external-api-secrets
  namespace: one-data-studio
  labels:
    app.kubernetes.io/name: one-data-studio
    app.kubernetes.io/component: external-apis
type: Opaque
stringData:
  # OpenAI API Key (if using OpenAI directly)
  # Optional: Only needed if not using internal model serving
  OPENAI_API_KEY: "<REPLACE_WITH_OPENAI_API_KEY_OR_LEAVE_EMPTY>"

  # Other external service API keys can be added here
  # EXTERNAL_SERVICE_API_KEY: "<REPLACE>"
