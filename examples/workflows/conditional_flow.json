{
  "version": "1.0",
  "name": "条件分支示例",
  "description": "根据评分结果进行条件分支处理",
  "nodes": [
    {
      "id": "input-1",
      "type": "input",
      "position": { "x": 100, "y": 100 },
      "data": {
        "label": "输入",
        "config": { "key": "data" }
      }
    },
    {
      "id": "condition-1",
      "type": "condition",
      "position": { "x": 100, "y": 200 },
      "data": {
        "label": "评分判断",
        "config": {
          "condition": "{{ inputs.score > 0.8 }}",
          "true_branch": ["llm-approve"],
          "false_branch": ["llm-reject"]
        }
      }
    },
    {
      "id": "llm-approve",
      "type": "llm",
      "position": { "x": 50, "y": 350 },
      "data": {
        "label": "通过回复",
        "config": {
          "model": "gpt-4o-mini",
          "system_prompt": "生成一个友好的通过通知。",
          "input_from": "condition-1"
        }
      }
    },
    {
      "id": "llm-reject",
      "type": "llm",
      "position": { "x": 250, "y": 350 },
      "data": {
        "label": "拒绝回复",
        "config": {
          "model": "gpt-4o-mini",
          "system_prompt": "生成一个礼貌的拒绝说明。",
          "input_from": "condition-1"
        }
      }
    },
    {
      "id": "output-1",
      "type": "output",
      "position": { "x": 150, "y": 500 },
      "data": {
        "label": "输出",
        "config": { "output_key": "result" }
      }
    }
  ],
  "edges": [
    { "source": "input-1", "target": "condition-1" },
    { "source": "condition-1", "target": "llm-approve", "sourceHandle": "true" },
    { "source": "condition-1", "target": "llm-reject", "sourceHandle": "false" },
    { "source": "llm-approve", "target": "output-1" },
    { "source": "llm-reject", "target": "output-1" }
  ]
}
